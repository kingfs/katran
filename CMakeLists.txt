cmake_minimum_required (VERSION 3.9)
include_directories(".")
set(LIBBPF_BUILD_PATH "${CMAKE_SOURCE_DIR}/deps/libbpf/install/usr/")
set(LIBBPF_PATH "${LIBBPF_BUILD_PATH}/lib64/")
set(LIBBPF_INCLUDE_PATH "${LIBBPF_BUILD_PATH}/include/")
include_directories(${LIBBPF_INCLUDE_PATH})
add_subdirectory(katran)
if(DEFINED ENV{CMAKE_BUILD_EXAMPLE_THRIFT})
    message("Building example of thrift and grpc based katran server")
    add_subdirectory(example)
endif()
if(DEFINED ENV{CMAKE_BUILD_EXAMPLE_GRPC})
    add_subdirectory(example_grpc)
endif()
message("Building tools/utils for katran")
add_subdirectory(tools)
